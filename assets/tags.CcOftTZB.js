import{A as M,T as P,i as W,b as O,d as X,p as Z,u as G,g as J,a as K,c as Q,l as U,h as tt,e as et,f as nt}from"./app.BRqVfhQv.js";import{_ as st}from"./YunPostCollapse.vue_vue_type_style_index_0_lang.DHTm-xwP.js";import{u as at}from"./chunks/vue-i18n.BJ8pk7YT.js";import{a as ot,u as rt}from"./animation.r5XOIINQ.js";import{ab as k,bd as V,b5 as c,$ as T,a0 as f,bv as $,bE as e,X as b,bh as it,a8 as t,c1 as a,Z as C,bj as ct,_ as lt,H as ut,F as R,bf as mt,aS as pt}from"./framework.CkDo6HBe.js";import{_ as _t}from"./YunPageHeader.vue_vue_type_script_setup_true_lang.D2osPOJV.js";import"./chunks/dayjs.CPPL_t8N.js";import{b as ft,c as gt}from"./chunks/vue-router.gs0-Hl28.js";import"./chunks/pinia.BVTiwpwu.js";/* empty css                    */import"./chunks/@vueuse/motion.BMAGmK78.js";import"./chunks/nprogress.D6qpKeA8.js";import"./index.BRXJGymZ.js";function yt(o={primary:"#0078E7"}){const r=M(),l=new P("#999999"),i=new P(o.primary);return{tags:r,getTagStyle:n=>{const p=Array.from(r.value).map(([d,h])=>h.count),g=Math.max(...p),s=Math.min(...p),y=g-s,_=(n-s)/y;return{"--yun-tag-color":l.mix(i,_*100).toString(),fontSize:`${_*36+12}px`}}}}const dt={"inline-flex":""},ht={"inline-flex":"",text:"xs"},vt=k({__name:"YunLayoutPostTag",props:{i:{},title:{},count:{}},setup(o){const r=o,{$t:l}=W(),i=V();return ot(i,{i:r.i||0,delay:25}),(m,n)=>(c(),T("span",{ref_key:"tagRef",ref:i,"inline-flex":"",my:"2",p:"1",class:"post-tag cursor-pointer items-baseline leading-4"},[f("span",dt,"#"+$(e(l)(o.title)),1),f("span",ht,"["+$(o.count)+"]",1)],512))}}),xt={class:"yun-text-light",text:"center",p:"2"},bt={class:"justify-center items-end",flex:"~ wrap",gap:"1"},Ft=k({__name:"tags",setup(o){O([X({"@type":"CollectionPage"})]);const r=ft(),l=gt(),i=Z(),{t:m}=at(),n=G(),{tags:p,getTagStyle:g}=yt({primary:i.value.colors.primary}),s=b(()=>r.query.tag||""),y=J(),_=b(()=>y.postList.filter(u=>u.tags?typeof u.tags=="string"?u.tags===s.value:u.tags.includes(s.value):!1)),d=V(),{show:h}=rt(d);function A(v){l.push({query:{tag:v}}),h()}const B=K(n),S=b(()=>Array.from(p.value).sort());return(v,u)=>{const E=Q,Y=_t,F=vt,w=it("RouterView"),I=st,N=U,j=tt,q=et,z=nt;return c(),T(R,null,[t(q,null,{default:a(()=>[t(E),t(w,null,{default:a(({Component:D})=>[(c(),C(ct(D),null,{"main-header":a(()=>[t(Y,{title:e(B)||e(m)("menu.tags"),icon:e(n).icon||"i-ri-tag-line",color:e(n).color,"page-title-class":e(n).pageTitleClass},null,8,["title","icon","color","page-title-class"])]),"main-content":a(()=>[t(ut,{"enter-active-class":"animate-fade-in animate-duration-400",appear:""},{default:a(()=>[f("div",xt,$(e(m)("counter.tags",S.value.length)),1)]),_:1}),f("div",bt,[(c(!0),T(R,null,mt(S.value,([x,L],H)=>(c(),C(F,{key:x,i:H,title:x,count:L.count,style:pt(e(g)(L.count)),onClick:Ct=>A(x.toString())},null,8,["i","title","count","style","onClick"]))),128))]),t(w)]),"main-nav-before":a(()=>[s.value?(c(),C(N,{key:0,ref_key:"collapse",ref:d,m:"t-4",w:"full"},{default:a(()=>[t(Y,{title:s.value,icon:"i-ri-hashtag"},null,8,["title"]),t(I,{w:"full",m:"b-4",p:"x-20 lt-sm:x-5",posts:_.value},null,8,["posts"])]),_:1},512)):lt("v-if",!0)]),_:1}))]),_:1}),t(j)]),_:1}),t(z)],64)}}});export{Ft as default};
